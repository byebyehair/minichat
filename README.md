# MiniChat  

[click to demo](https://talks.im)  
  
MiniChat æ˜¯ä¸€æ¬¾Goè¯­è¨€å®ç°çš„æç®€ã€æè½»ã€æ— ç—•åŒ¿åèŠå¤©å·¥å…·ï¼Œå¼€å‘æ­¤ç¨‹åºçš„æœ¬æ„æ˜¯ç”¨äºè‡ªå·±å¹³æ—¥ä¸å¥½å‹ä¸´æ—¶è®¨è®ºæ•æ„Ÿè¯é¢˜æ—¶ä½¿ç”¨ï¼Œç°å¼€æºå…±äº«ï¼Œä»£ç ç®€é™‹ï¼Œè¯·å¤šåŒ…æ¶µã€‚

**å¦‚æœ‰å…´è‡´ï¼Œè¿˜è¯·èµä¸ª github çš„ Star .**

## ç‰¹æ€§

* æ— æ•°æ®åº“ã€æ— å¤šä½™ç»„ä»¶ã€æ‰“åŒ…åé•œåƒä»… 16M
* æ”¯æŒè‡ªå®šä¹‰æœåŠ¡ç«¯å£ã€æ”¯æŒå•ç‹¬é…ç½®åç«¯æœåŠ¡ Server API
* è‰¯å¥½çš„åŒ¿åç‰¹æ€§ã€å®‰å…¨éšç§ç‰¹æ€§ï¼Œæ•°æ®åªåœ¨æœåŠ¡å™¨å†…å­˜ä¸­æ¯«ç§’çº§çŸ­æš‚ä¸­è½¬ä¸ç•™ç—•
* æ”¯æŒæˆ¿é—´å¯†ç ã€åè¿›æˆ¿é—´ä¸èƒ½è§‚çœ‹ä¹‹å‰è®°å½•ç­‰ç‰¹æ€§ï¼Œéå¸¸å®‰å…¨
* åªéœ€éšæ„å¡«å†™ç”¨æˆ·æ˜µç§°ï¼Œæ— ä»»ä½•çœŸå®ä¿¡æ¯ï¼Œéå¸¸å®‰å…¨
* æ‰€æœ‰äººç¦»å¼€æˆ¿é—´å³é”€æ¯ï¼Œéå¸¸å®‰å…¨
* ç®€æ´ä½†ç”¨å¿ƒçš„ç•Œé¢å¸ƒå±€
* é€‚é…æ‰‹æœºç«¯ã€Webç«¯

## ä½¿ç”¨è¯´æ˜

> ğŸŒŸ å…¶å®åªéœ€è¦ä¸¤æ­¥ï¼š
> ä½ è¾“å…¥åœ°å€è¿›å…¥ï¼Œè¾“å…¥æ˜µç§°ï¼Œå¼€å§‹èŠå¤©
> å¤åˆ¶ç»™åˆ«äººåœ°å€ï¼Œåˆ«äººè¿›å…¥ï¼Œè¾“å…¥æ˜µç§°ï¼Œå¼€å§‹èŠå¤©

1. è¿›å…¥é¡µé¢ï¼Œè‹¥åœ°å€æ æœªæºå¸¦ room=xxx çš„å‚æ•°ï¼Œå°†éšæœºäº§ç”Ÿä¸€ä¸ªæ–°æˆ¿é—´
2. è¾“å…¥è‡ªå·±çš„æ˜µç§°(éšæ„)ï¼Œç‚¹å‡»è¿›å…¥æˆ¿é—´å³å¯
3. å°†æˆ¿é—´åœ°å€å¤åˆ¶å‘é€ç»™å…¶ä»–å°ä¼™ä¼´ï¼Œå°ä¼™ä¼´è¾“å…¥ä»–è‡ªå·±çš„æ˜µç§°(éšæ„)åï¼Œå°†è¿›å…¥ä½ çš„æˆ¿é—´
4. å¼€å§‹æ„‰å¿«ä¸”æ— ç—•ä¸”ç§å¯†çš„èŠå¤©
5. å½“æ‰€æœ‰æˆ¿é—´å†…çš„äººéƒ½ç¦»å¼€åï¼Œæˆ¿é—´ä¼šç«‹åˆ»é”€æ¯

## éƒ¨ç½²æ–¹å¼

### åˆ›å»ºç›®å½•å’Œé…ç½®æ–‡ä»¶

1. åˆ›å»º minichat ç›®å½•å¹¶ `cd` åˆ°è¯¥ç›®å½•ä¸‹
```
mkdir minichat
cd minichat
```

2. åˆ›å»º config.yaml é…ç½®æ–‡ä»¶
```
cat << EOF > ./minichat/config.yaml
port: 8080
server_url: ""
EOF
```

ä»¥ä¸‹æ–¹å¼é»˜è®¤åœ¨ minichat ç›®å½•ä¸‹æ“ä½œ

### Docker compose æ–¹å¼ï¼ˆæ¨èï¼‰

1. ç¯å¢ƒè¦æ±‚: Dockerã€Docker-Compose
2. åˆ›å»ºç›®å½•å¹¶ä¸‹è½½ docker-compose.yaml:
```
wget https://raw.githubusercontent.com/okhanyu/minichat/master/docker-compose.yml
```
3. ä¿®æ”¹ docker-compose.yml æ–‡ä»¶ï¼ŒæŒ‰éœ€ä¿®æ”¹ç«¯å£å·ï¼ˆåªéœ€ä¿®æ”¹ docker-compose.yml æ–‡ä»¶ä¸­ - "8080:8080" ä¸­å‰é¢çš„8080å³å¯ï¼Œåé¢çš„ 8080 ä»£è¡¨å®¹å™¨å†…çš„ç«¯å£è¦å’Œ config.yaml ä¸­çš„ç«¯å£ä¸€è‡´ï¼Œåé¢é»˜è®¤ 8080 å³å¯æ— éœ€ä¿®æ”¹ï¼‰
4. å¦‚æœ‰ç‰¹æ®Šéœ€è¦ï¼Œä¿®æ”¹ config.yaml æ–‡ä»¶ï¼Œé¡µé¢è¯·æ±‚æœåŠ¡å™¨çš„æ¥å£åœ°å€ server_urlï¼Œå¦‚é¡µé¢å’ŒæœåŠ¡ä½¿ç”¨åŒåŸŸååŒç«¯å£ï¼Œserver_url ç•™ç©ºæ— éœ€ä¿®æ”¹å³å¯
5. è¿›å…¥åˆš clone çš„ minichat æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œ
```
docker-compose up -d
```
6. éƒ¨ç½²æˆåŠŸåï¼Œé€šè¿‡ip+ç«¯å£å·è®¿é—®

### Docker run æ–¹å¼

1. ç¯å¢ƒè¦æ±‚: Docker
2. å¦‚æœ‰ç‰¹æ®Šéœ€è¦ï¼Œä¿®æ”¹ config.yaml æ–‡ä»¶ï¼Œä¿®æ”¹é¡µé¢è¯·æ±‚æœåŠ¡å™¨çš„æ¥å£åœ°å€ server_urlï¼Œå¦‚é¡µé¢å’ŒæœåŠ¡ä½¿ç”¨åŒåŸŸååŒç«¯å£ï¼Œserver_url ç•™ç©ºæ— éœ€ä¿®æ”¹å³å¯
3. æ‰§è¡Œï¼ˆåªéœ€ä¿®æ”¹ -p 8080:8080 ä¸­å‰é¢çš„ 8080 å³å¯ï¼Œåé¢çš„ 8080 ä»£è¡¨å®¹å™¨å†…çš„ç«¯å£ï¼Œè¦å’Œ config.yaml ä¸­çš„ç«¯å£ä¸€è‡´ï¼Œåé¢é»˜è®¤ 8080 å³å¯æ— éœ€ä¿®æ”¹ï¼‰
```
docker pull okhanyu/minichat:latest
docker run -d --name minichattest --restart always \
  -p 8080:8080 \
  -v ./config.yaml:/app/config.yaml \
  -e TEMPLATE_NAME="bulma" \
  okhanyu/minichat:latest
```
4. éƒ¨ç½²æˆåŠŸåï¼Œé€šè¿‡ip+ç«¯å£å·è®¿é—®

### äºŒè¿›åˆ¶ç›´æ¥è¿è¡Œ æ–¹å¼ï¼ˆæ— éœ€ Dockerï¼‰

1. ç¯å¢ƒè¦æ±‚: æ— 
2. minichat æ–‡ä»¶å¤¹å†…åˆ›å»ºæ–‡ä»¶ config.yaml
3. ä¿®æ”¹ config.yaml æ–‡ä»¶ï¼ŒæŒ‰éœ€ä¿®æ”¹ç«¯å£å·å’Œé¡µé¢è¯·æ±‚æœåŠ¡å™¨çš„æ¥å£åœ°å€ server_urlï¼Œå¦‚é¡µé¢å’ŒæœåŠ¡ä½¿ç”¨åŒåŸŸååŒç«¯å£ï¼Œserver_url ç•™ç©ºå³å¯
```
port: 8080
server_url: ""
```
4. minichat æ–‡ä»¶å¤¹å†…ï¼Œæ”¾ç½®ä¸‹è½½å¹¶è§£å‹å¥½çš„[å¯æ‰§è¡Œæ–‡ä»¶](https://github.com/okhanyu/minichat/releases/)ï¼Œä¿è¯ config.yaml å’Œ å¯æ‰§è¡Œæ–‡ä»¶åœ¨åŒç›®å½•ä¸‹ï¼ŒåŒå‡»æ‰“å¼€å¯æ‰§è¡Œæ–‡ä»¶å³å¯
5. æˆåŠŸåï¼Œé€šè¿‡ip+ç«¯å£å·è®¿é—®

### ç¯å¢ƒå˜é‡

* `TEMPLATE_NAME` é¡µé¢æ¨¡æ¿ï¼Œæ”¯æŒ `bulma | ddiu`ï¼Œé»˜è®¤ä½¿ç”¨ `bulma`

## å…¶ä»–
* å¦‚æœä½ éœ€è¦çš„æ˜¯ä¸€å¥—æ”¯æŒè‡ªéƒ¨ç½²çš„å®Œæ•´ã€å¼ºå¤§èŠå¤©å®¤ç³»ç»Ÿï¼Œè¯·ä½¿ç”¨ [mattermost.com](https://mattermost.com/)
* å¦‚æœä½ éœ€è¦çš„æ˜¯ä¸€æ¬¾æ”¯æŒè‡ªéƒ¨ç½²çš„å¤å¤ã€åŒ¿åèŠå¤©å®¤ç³»ç»Ÿï¼Œè¯·ä½¿ç”¨ [hack.chat](https://hack.chat/)

## æ¨¡æ¿ä½œè€…

* ddiu by [ddiu8081](https://ddiu.io)
* bulma by [@alanoy](https://ideapart.com)
---

![](screenshots/EnterRoom.jpeg)
![](screenshots/ChatView.jpeg)
![](screenshots/DarkMode.jpeg)

---

[![Powered by DartNode](https://dartnode.com/branding/DN-Open-Source-sm.png)](https://dartnode.com "Powered by DartNode - Free VPS for Open Source")
